generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("MYSQL_DATABASE_URL")
}

model LinkedInUser {
  id            Int                @id @default(autoincrement()) @db.UnsignedInt
  firstName     String             @map("first_name") @db.VarChar(256)
  lastName      String             @map("last_name") @db.VarChar(256)
  identifier    BigInt             @unique @db.UnsignedBigInt
  username      String             @unique @db.VarChar(128)
  title         String?            @db.VarChar(512)
  lastScannedAt DateTime?          @default(now()) @map("last_scanned_at")
  createdAt     DateTime           @default(now()) @map("created_at")
  updatedAt     DateTime           @default(now()) @updatedAt @map("updated_at")
  userData      LinkedInUserData[]

  @@index([identifier], name: "idx_linkedin_user_identifier")
  @@index([username], name: "idx_linkedin_user_username")
  @@map("linkedin_users")
}

model LinkedInUserData {
  linkedInUserId  Int          @id @map("linkedin_user_id") @db.UnsignedInt
  location        String?      @db.VarChar(255)
  summary         String?      @db.Text
  experience      Json?        @db.Json
  education       Json?        @db.Json
  skills          Json?        @db.Json
  recommendations Json?        @db.Json
  interests       Json?        @db.Json
  createdAt       DateTime     @default(now()) @map("created_at")
  updatedAt       DateTime     @default(now()) @updatedAt @map("updated_at")
  user            LinkedInUser @relation(fields: [linkedInUserId], references: [id])

  @@map("linkedin_users_data")
}
